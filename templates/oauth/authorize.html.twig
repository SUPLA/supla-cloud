{% extends '@web/index.html' %}

{% block beforeVue %}
    <script>
        window.oauthAuthorizeRequest = {
            desiredScopes: {{ form.scope.vars.value | json_encode | raw }},
            clientName: {{ client.name | json_encode | raw }},
            locale: {{ app.user.locale | json_encode | raw }},
            formName: {{ form.vars.name | json_encode | raw }},
            formFields: [
                {name: {{ form.client_id.vars.name | json_encode | raw }}, value: {{ form.client_id.vars.value | json_encode | raw }}},
                {
                    name: {{ form.response_type.vars.name | json_encode | raw }},
                    value: {{ form.response_type.vars.value | json_encode | raw }}},
                {
                    name: {{ form.redirect_uri.vars.name | json_encode | raw }},
                    value: {{ form.redirect_uri.vars.value | json_encode | raw }}},
                {name: {{ form.state.vars.name | json_encode | raw }}, value: {{ form.state.vars.value | json_encode | raw }}},
                {name: {{ form.scope.vars.name | json_encode | raw }}, value: {{ form.scope.vars.value | json_encode | raw }}},
            ]
        };
    </script>
    {{ include('@FOSOAuthServer/Authorize/authorize_content.html.twig') }}
{% endblock %}
